{"version":3,"file":"js/415.3ba75e69.js","mappings":"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","sources":["webpack://week-8-project/./src/views/frontend/OrderCheck.vue","webpack://week-8-project/./src/views/frontend/OrderCheck.vue?bd21"],"sourcesContent":["<template>\n  <PageLoading\n    loader=\"bars\"\n    :active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"false\"\n  ></PageLoading>\n  <ModalMessage ref=\"modalMessage\"></ModalMessage>\n  <div class=\"container mt-4\">\n    <div class=\"container my-3 d-none d-md-grid\">\n      <div class=\"row row-cols-3\">\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2  border border-dark border-3\"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 text-dark my-2\">購物車</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2  border border-dark border-3\"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">填寫資訊</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2  border border-dark border-3\"\n            type=\"button\"\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">訂單內容</p>\n          </button>\n        </div>\n      </div>\n    </div>\n    <h2\n      class=\"font-Noto mt-2 mt-lg-5 fw-700 text-center text-md-start ps-md-5 text-warning\"\n    >\n      步驟 3. 訂單內容\n    </h2>\n    <div\n      class=\"container shadow-sm my-5 bg-body border border-1 border-body align-middle rounded-3 px-lg-5\"\n    >\n      <div\n        class=\"row row-cols-1 row-cols-lg-2 mt-5 mb-3 justify-content-center\"\n      >\n        <div class=\"col-lg-6 p-4 bg-body border border-1 border-body\">\n          <h3 class=\"fw-bold font-Noto mb-3\">施主資訊</h3>\n          <table class=\"table\">\n            <tbody v-if=\"orderShow.user\">\n              <tr>\n                <th class=\"font-Noto fw-400\">姓名</th>\n                <td class=\"font-Noto fw-400\">{{ orderShow.user.name }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">Email</th>\n                <td>{{ orderShow.user.email }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">電話</th>\n                <td>{{ orderShow.user.tel }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">地址</th>\n                <td class=\"font-Noto fw-400\">{{ orderShow.user.address }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"col-lg-6 p-4 bg-body border border-1 border-body\">\n          <h3 class=\"fw-bold font-Noto mb-3\">訂單細節</h3>\n          <table class=\"table\">\n            <tbody>\n              <tr>\n                <th class=\"font-Noto fw-400\">訂單編號</th>\n                <td>{{ orderShow.id }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">下單時間</th>\n                <td>{{ orderShow.create_at }}</td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">付款時間</th>\n                <td>\n                  {{ PaidDate }}\n                </td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">付款狀態</th>\n                <td>\n                  <strong\n                    v-if=\"orderShow.is_paid\"\n                    class=\"text-success font-Noto fw-600\"\n                    >已付款</strong\n                  >\n                  <span v-else class=\"text-muted font-Noto fw-600\"\n                    >尚未付款</span\n                  >\n                </td>\n              </tr>\n              <tr>\n                <th class=\"font-Noto fw-400\">總金額</th>\n                <td class=\"fs-4 font-Noto fw-bold text-warning\">\n                  {{ orderShow.total }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <hr />\n      <div\n        class=\"row my-2 justify-content-center p-4 bg-body border border-1 border-body\"\n      >\n        <h3 class=\"fw-bold font-Noto\">選購商品</h3>\n        <table class=\"table col-6 mt-3 fw-bold font-Noto\">\n          <thead>\n            <tr></tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in orderShow.products\" :key=\"item.id\">\n              <th>\n                {{ item.product.title }}\n              </th>\n              <td>\n                {{ item.qty }}\n                <span class=\"d-none d-lg-inline\"\n                  >/ {{ item.product.unit }}</span\n                >\n              </td>\n              <td class=\"text-end\">\n                {{ item.final_total }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"my-3 d-flex justify-content-center\">\n        <button\n          type=\"button\"\n          class=\"btn btn-danger fw-bold font-Noto fs-4 w-auto\"\n          @click=\"updatePaid\"\n        >\n          確認並付款\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      status: {},\n      orders: {},\n      orderShow: {},\n      isPaid: false,\n      isLoading: false,\n      PaidDate: '尚未付款',\n    };\n  },\n  methods: {\n    PaidDateRenewed() {\n      const date = new Date();\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      const dateFull = `${year}/${month}/${day}`;\n      return dateFull;\n    },\n    dateTimeFormat(item) {\n      const date = new Date(item * 1000);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      const dateFull = `${year}/${month}/${day}`;\n      return dateFull;\n    },\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/orders`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.orders = res.data.orders.map((item) => ({\n            ...item,\n            create_at: this.dateTimeFormat(item.create_at),\n          }));\n          this.orderShow = this.orders.pop();\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    updatePaid() {\n      this.isLoading = true;\n      const { id } = this.orderShow;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${id}`;\n      this.$http\n        .post(api)\n        .then(() => {\n          this.PaidDate = this.PaidDateRenewed();\n          this.$refs.modalMessage.openModal(true, 'paid', id);\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.$refs.modalMessage.openModal(false, 'paid');\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.isLoading = true;\n    this.getOrder();\n    this.isLoading = false;\n  },\n};\n</script>\n","import { render } from \"./OrderCheck.vue?vue&type=template&id=128cdc7e\"\nimport script from \"./OrderCheck.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheck.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\Documents\\\\Github-res\\\\hexschool-vue-projects\\\\Homework\\\\GrandMaSam_Diner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_PageLoading","loader","active","$data","_component_ModalMessage","ref","_hoisted_2","_hoisted_7","user","_createElementBlock","_hoisted_9","_hoisted_10","_toDisplayString","name","_hoisted_12","email","_hoisted_13","tel","_hoisted_14","address","_hoisted_17","_hoisted_19","id","_hoisted_20","create_at","_hoisted_21","_hoisted_22","is_paid","_hoisted_25","total","_hoisted_27","_hoisted_29","_hoisted_31","_Fragment","_renderList","products","item","key","product","title","qty","unit","final_total","type","onClick","$options","data","status","orders","orderShow","isPaid","isLoading","PaidDate","methods","PaidDateRenewed","date","Date","year","getFullYear","month","getMonth","day","getDate","dateFull","dateTimeFormat","getOrder","url","this","$http","get","then","res","map","pop","catch","updatePaid","api","post","$refs","modalMessage","openModal","created","__exports__","render"],"sourceRoot":""}