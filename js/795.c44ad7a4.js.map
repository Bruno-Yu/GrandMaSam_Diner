{"version":3,"file":"js/795.c44ad7a4.js","mappings":"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","sources":["webpack://week-8-project/./src/views/frontend/UserContact.vue","webpack://week-8-project/./src/views/frontend/UserContact.vue?c34e"],"sourcesContent":["<template>\n  <PageLoading\n    loader=\"bars\"\n    :active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"false\"\n  ></PageLoading>\n  <div class=\"container px-lg-5\">\n    <div class=\"container my-3 d-none d-md-grid\">\n      <div class=\"row row-cols-3\">\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n            @click=\"prePage\"\n          >\n            <p class=\"fs-4 font-Noto fw-600 text-dark my-2\">購物車</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">填寫資訊</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-outline-secondary rounded-2 border border-body border-3 \"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">訂單內容</p>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mt-5 mb-3\">\n      <h2\n        class=\"font-Noto fw-700 text-center text-md-start ps-md-5 text-warning\"\n      >\n        步驟 2. 填寫資訊\n      </h2>\n    </div>\n    <div\n      class=\"row justify-content-center shadow my-5 bg-light border border-1 border-body rounded-3\"\n    >\n      <VForm\n        ref=\"form\"\n        class=\"col-md-6  rounded-3 p-5\"\n        v-slot=\"{ errors }\"\n        @submit=\"onSubmit\"\n      >\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label font-Noto fw-400\">\n            Email <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></VField>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label font-Noto fw-400\"\n            >收件人姓名 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            :rules=\"noEmpty\"\n            v-model=\"form.user.name\"\n          ></VField>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label font-Noto fw-400\"\n            >收件人電話 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"tel\"\n            name=\"電話\"\n            type=\"tel\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            :rules=\"isPhone\"\n            v-model=\"form.user.tel\"\n          ></VField>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label font-Noto fw-400\"\n            >收件人地址 <span class=\"text-danger fw-bolder\">*</span></label\n          >\n          <VField\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control font-Noto fw-400\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            :rules=\"noEmpty\"\n            v-model=\"form.user.address\"\n          ></VField>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label font-Noto fw-400\">留言</label>\n          <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            :rules=\"{ required: false }\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <p class=\"text-secondary fw-bolder small\">\n          說明: <span class=\"text-danger fw-bolder\"> * </span>代表必填項目\n        </p>\n        <div class=\"d-flex justify-content-between\">\n          <button\n            class=\"d-block btn btn-outline-danger font-Noto fw-bold\"\n            type=\"button\"\n            @click=\"prePage\"\n          >\n            上一步\n          </button>\n\n          <button\n            type=\"submit\"\n            class=\"d-block btn btn-danger font-Noto fw-bold  shadow\"\n            :disabled=\"\n              Object.keys(errors).length > 0 || cartData.carts.length === 0\n            \"\n          >\n            送出訂單\n          </button>\n        </div>\n      </VForm>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cartData: {\n        carts: [],\n      },\n      isLoadingItem: '',\n      isLoading: false,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      // 局部讀取效果賦值對應id\n      this.isLoadingItem = id;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data },\n        )\n        .then(() => {\n          this.getCart();\n          this.isLoadingItem = '';\n        });\n    },\n    getCart() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data;\n        })\n\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '購物車截取失敗');\n        });\n    },\n    // 驗證 表單觸發方法\n    onSubmit() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http\n        .post(url, { data: order })\n        .then(() => {\n          this.$refs.form.resetForm();\n          this.$router.push('/orderCheck');\n          this.isLoading = false;\n        })\n\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '表單傳送失敗');\n        });\n    },\n    noEmpty(value) {\n      return value ? true : '此欄不得為空';\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n    prePage() {\n      this.isLoading = true;\n      this.$router.push('/cartView');\n      this.isLoading = false;\n    },\n  },\n  mounted() {\n    this.isLoading = true;\n    this.getCart();\n    this.isLoading = false;\n  },\n};\n</script>\n","import { render } from \"./UserContact.vue?vue&type=template&id=98e657e0\"\nimport script from \"./UserContact.vue?vue&type=script&lang=js\"\nexport * from \"./UserContact.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\Documents\\\\Github-res\\\\hexschool-vue-projects\\\\Homework\\\\GrandMaSam_Diner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","for","_createVNode","_component_PageLoading","loader","active","$data","type","onClick","$options","_hoisted_7","_hoisted_9","_component_VForm","ref","onSubmit","errors","_hoisted_12","_component_VField","id","name","placeholder","rules","user","email","$event","_component_ErrorMessage","_hoisted_14","_hoisted_16","tel","_hoisted_18","address","_hoisted_20","cols","rows","required","message","_hoisted_21","disabled","Object","keys","length","carts","_hoisted_23","data","cartData","isLoadingItem","isLoading","form","methods","addToCart","qty","product_id","this","$http","post","then","getCart","get","res","catch","error","$frontHttpMessageState","response","url","order","$refs","resetForm","$router","push","noEmpty","value","isPhone","phoneNumber","test","prePage","mounted","__exports__","render"],"sourceRoot":""}