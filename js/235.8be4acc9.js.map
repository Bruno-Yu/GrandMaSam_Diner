{"version":3,"file":"js/235.8be4acc9.js","mappings":"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","sources":["webpack://week-8-project/./src/components/cartMessage.vue","webpack://week-8-project/./src/components/cartMessage.vue?972e","webpack://week-8-project/./src/views/frontend/CartView.vue","webpack://week-8-project/./src/views/frontend/CartView.vue?3246"],"sourcesContent":["<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    ref=\"modalMessage\"\n    id=\"cartMessage\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div v-if=\"add\" class=\"modal-content\">\n        <div class=\"modal-header bg-warning\">\n          <h3\n            class=\"modal-title text-light font-Noto fw-550\"\n            id=\"exampleModalLabel\"\n          >\n            執行成功\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            @click=\"closeModal\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"container pt-2 gx-2\">\n            <h5 class=\"fw-bold\">\n              <span class=\"text-success\"\n                ><i class=\"bi bi-check-circle\"></i\n              ></span>\n              噗通! 商品如粑粑那樣成功落入購物車中\n            </h5>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <div class=\"container gx-2 d-flex justify-content-center\">\n            <button\n              type=\"button\"\n              class=\"btn btn-warning mx-2 mb-1  p-2 border border-dark border-1 font-Noto fw-400\"\n              @click=\"closeModal\"\n            >\n              好優\n            </button>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"modal-content\">\n        <div class=\"modal-header bg-danger\">\n          <h3\n            class=\"modal-title text-light font-Noto fw-550\"\n            id=\"exampleModalLabel\"\n          >\n            刪除警示\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            @click=\"closeModal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"container gx-2 pt-2\">\n            <h5 class=\"font-Noto fw-550\">即將被您刪除的商品會感到難過</h5>\n            <p class=\"font-Noto fw-400\">\n              其實我們的商品也是有情緒的，您這麼做會讓商品感受到您的冷漠，而他們要的，其實不多，只是希望您能接受他們而已\n            </p>\n          </div>\n        </div>\n        <div class=\"modal-footer gx-2\">\n          <div class=\"container d-flex justify-content-end\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-dark p-2 mb-1 font-Noto fw-400\"\n              data-bs-dismiss=\"modal\"\n              @click=\"closeModal\"\n            >\n              再想想\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-danger ms-2 p-2 mb-1 border border-dark border-1 font-Noto fw-400\"\n              @click=\"removeCart(all, id), $emit('get-cart'), closeModal()\"\n            >\n              這與我無瓜\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: null,\n      add: true,\n      id: '',\n      all: false,\n    };\n  },\n  methods: {\n    openModal(add, id, all) {\n      if (add) {\n        this.add = true;\n      } else {\n        this.add = false;\n        this.id = id;\n        if (all) {\n          this.all = true;\n        } else {\n          this.all = false;\n        }\n      }\n      this.modal.show();\n    },\n    closeModal() {\n      this.modal.hide();\n      this.id = '';\n      this.all = false;\n    },\n    removeCart(all, id) {\n      if (all) {\n        this.$http\n          .delete(\n            `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`,\n          )\n          .then(() => {});\n      } else {\n        this.$http\n          .delete(\n            `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`,\n          )\n          .then(() => {\n            // 取得購物車的資料\n          });\n      }\n    },\n  },\n\n  mounted() {\n    this.modal = new Modal(document.querySelector('#cartMessage'));\n  },\n};\n</script>\n","import { render } from \"./cartMessage.vue?vue&type=template&id=09dc7f6e\"\nimport script from \"./cartMessage.vue?vue&type=script&lang=js\"\nexport * from \"./cartMessage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\Documents\\\\Github-res\\\\hexschool-vue-projects\\\\Homework\\\\GrandMaSam_Diner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <PageLoading\n    loader=\"bars\"\n    :active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"false\"\n  ></PageLoading>\n  <CartMessage ref=\"cartMessage\" @get-cart=\"getCart()\"/>\n  <div class=\"container px-lg-5\">\n    <div class=\"container my-3 d-none d-md-grid\">\n      <div class=\"row row-cols-3\">\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-warning rounded-2 border border-dark border-3\"\n            type=\"button\"\n          >\n            <p class=\"fs-4 font-Noto fw-600 text-dark my-2\">購物車</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-outline-secondary rounded-2 border border-body border-3 \"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">填寫資訊</p>\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn w-100 btn-outline-secondary rounded-2 border border-body border-3 \"\n            type=\"button\"\n            disabled\n          >\n            <p class=\"fs-4 font-Noto fw-600 my-2\">訂單內容</p>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mt-5 mb-3\">\n      <h2\n        class=\"font-Noto fw-700 text-center text-md-start ps-md-5 text-warning\"\n      >\n        步驟 1. 購物車內容\n      </h2>\n    </div>\n    <div class=\"row mt-4 px-lg-5\">\n      <div class=\"text-end\">\n        <button\n          class=\"btn btn-outline-danger fw-bold font-Noto mb-4\"\n          type=\"button\"\n          @click=\"removeCartAll\"\n          :disabled=\"\n            isLoadingItem === 'deleteAll' || cartData.carts.length === 0\n          \"\n        >\n          <span\n            class=\"spinner-grow spinner-grow-sm\"\n            v-show=\"isLoadingItem === 'deleteAll'\"\n          ></span\n          >清空購物車\n        </button>\n      </div>\n      <div\n        class=\"shadow mb-5 bg-body border border-1 border-body p-5 align-middle rounded-3\"\n      >\n        <table class=\"table\">\n          <thead>\n            <tr class=\"text-start font-Noto fw-bold fs-5 text-primary\">\n              <th>刪<span class=\"d-none d-lg-inline\">除鍵</span></th>\n              <th class=\"d-none d-lg-table-cell\">預覽圖</th>\n              <th>品名</th>\n              <th>數量<span class=\"d-none d-lg-inline\">/單位</span></th>\n              <th class=\"d-none d-lg-table-cell text-center\">單價/總價</th>\n            </tr>\n          </thead>\n          <tbody v-if=\"cartData.carts\">\n            <tr\n              v-for=\"item in cartData.carts\"\n              :key=\"item.product.id\"\n              class=\"text-start\"\n            >\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  @click=\"removeCartItem(item.id)\"\n                  :disabled=\"isLoadingItem === item.id\"\n                >\n                  <span\n                    class=\"spinner-grow spinner-grow-sm\"\n                    v-show=\"isLoadingItem === item.id\"\n                  ></span>\n                  x\n                </button>\n              </td>\n              <td class=\"d-none d-lg-table-cell\">\n                <div\n                  class=\"cartView-product\"\n                  :style=\"{ backgroundImage: `url(${item.product.imageUrl})` }\"\n                ></div>\n              </td>\n              <td class=\"font-Noto fs-5 fw-400\">\n                {{ item.product.title }}\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <div class=\"input-group mb-sm-3\">\n                    <select\n                      id=\"\"\n                      class=\"form-select\"\n                      v-model=\"item.qty\"\n                      @change=\"updateCartItem(item)\"\n                      :disabled=\"isLoadingItem === item.id\"\n                    >\n                      <span\n                        class=\"spinner-grow spinner-grow-sm\"\n                        v-show=\"isLoadingItem === item.id\"\n                      ></span>\n                      <option\n                        :value=\"num\"\n                        v-for=\"num in 20\"\n                        :key=\"`${num}-${item.id}`\"\n                      >\n                        {{ num }}\n                      </option>\n                    </select>\n                    <span\n                      class=\"input-group-text d-none d-lg-table-cell font-Noto fw-400\"\n                      id=\"basic-addon2\"\n                      >{{ item.product.unit }}</span\n                    >\n                  </div>\n                </div>\n              </td>\n              <td class=\"d-none text-center d-lg-table-cell\">\n                <span\n                  class=\"spinner-grow spinner-grow-sm\"\n                  v-show=\"isLoadingItem === item.id\"\n                ></span>\n                <span class=\"text-secondary fz-sm fs-5\"\n                  >單價 {{ item.product.price }}元 /</span\n                ><span class=\"font-Noto fw-400 fs-5\">\n                  總價{{ item.total }}元\n                </span>\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td class=\"d-none d-lg-table-cell\"></td>\n              <td colspan=\"2\" class=\"text-end d-lg-none font-Noto fw-400\">\n                只需\n              </td>\n              <td\n                colspan=\"3\"\n                class=\"text-end d-none d-lg-table-cell font-Noto fw-bold\"\n              >\n                只需\n              </td>\n              <td class=\"text-end fs-4 font-Noto fw-bold text-warning\">\n                {{ cartData.total\n                }}<span class=\"d-none d-lg-inline font-Noto fw-bold\"> 元</span>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n        <div class=\"row d-flex justify-content-end\">\n          <div class=\"col-12 col-lg-4\">\n            <div class=\"input-group mb-3 input-group-sm\">\n              <label for=\"CartView_coupon\"> </label>\n              <input\n                type=\"text\"\n                id=\"CartView_coupon\"\n                class=\"form-control\"\n                v-model=\"coupon_code\"\n                placeholder=\"請輸入挑戰碼\"\n              />\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn btn-outline-secondary font-Noto fw-bold rounded-0\"\n                  type=\"button\"\n                  @click=\"addCouponCode\"\n                >\n                  套用挑戰碼\n                </button>\n              </div>\n            </div>\n            <div class=\"text-end my-3\">\n              <button\n                class=\"btn btn-danger font-Noto fw-bold  shadow\"\n                type=\"button\"\n                style=\"width: 30%\"\n                @click=\"nextPage\"\n                :disabled=\"\n                  isLoadingItem === 'deleteAll' || cartData.carts.length === 0\n                \"\n              >\n                下一步\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CartMessage from '@/components/cartMessage.vue';\nimport emitter from '@/libs/emitter';\n\nexport default {\n  data() {\n    return {\n      // 購物車列表\n      cartData: {\n        carts: [],\n      },\n      products: [],\n      productId: '',\n      isLoading: false,\n      isLoadingItem: '',\n      coupon_code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  components: {\n    CartMessage,\n  },\n  methods: {\n    getCart() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.cartData = res.data.data;\n          emitter.emit('cart-num', this.cartData.carts.length);\n          this.$emit('get-cart');\n        });\n    },\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data },\n        )\n        .then(() => {\n          this.getCart();\n          this.isLoadingItem = '';\n        })\n        .catch((error) => {\n          this.$frontHttpMessageState(error.response, '購物車更新失敗');\n        });\n    },\n    removeCartItem(id) {\n      this.isLoadingItem = id;\n      this.$refs.cartMessage.openModal(false, id, false);\n      this.getCart();\n      this.isLoadingItem = '';\n    },\n    removeCartAll() {\n      this.isLoadingItem = 'deleteAll';\n      this.isLoadingItem = '';\n      this.$refs.cartMessage.openModal(false, '', true);\n      this.getCart();\n    },\n    updateCartItem(item) {\n      const data = {\n        product_id: item.product.id,\n        qty: item.qty,\n      };\n      this.isLoadingItem = item.id;\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`,\n          { data },\n        )\n        .then((response) => {\n          this.$frontHttpMessageState(response, '更改成功');\n          this.getCart();\n          this.isLoadingItem = '';\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '更改失敗');\n        });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: coupon })\n        .then((response) => {\n          this.$frontHttpMessageState(response, '加入挑戰碼');\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$frontHttpMessageState(error.response, '尚無該挑戰');\n        });\n    },\n    nextPage() {\n      this.isLoading = true;\n      this.$router.push('/userContact');\n      this.isLoading = false;\n    },\n  },\n  created() {\n    this.isLoading = true;\n    this.getCart();\n    this.isLoading = false;\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=126659ee\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jackh\\\\OneDrive\\\\Documents\\\\Github-res\\\\hexschool-vue-projects\\\\Homework\\\\GrandMaSam_Diner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","id","tabindex","_createElementVNode","_createElementBlock","$data","_hoisted_5","type","onClick","$options","_hoisted_6","_hoisted_11","_hoisted_12","_ctx","data","modal","add","all","methods","openModal","this","show","closeModal","hide","removeCart","$http","delete","then","mounted","Modal","document","querySelector","__exports__","render","colspan","for","_createVNode","_component_PageLoading","loader","active","_component_CartMessage","onGetCart","_hoisted_2","disabled","carts","length","_Fragment","_renderList","item","key","product","style","backgroundImage","imageUrl","_toDisplayString","title","qty","$event","onChange","num","value","_hoisted_22","unit","price","total","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_36","placeholder","_hoisted_39","cartData","products","productId","isLoading","isLoadingItem","coupon_code","form","user","name","email","tel","address","message","components","CartMessage","getCart","get","res","emitter","$emit","addToCart","product_id","post","catch","error","$frontHttpMessageState","response","removeCartItem","$refs","cartMessage","removeCartAll","updateCartItem","put","addCouponCode","url","coupon","code","nextPage","$router","push","created"],"sourceRoot":""}